---

title: nbdev + Deepnote


keywords: fastai
sidebar: home_sidebar



nb_path: "00_core.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_core.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Set-up">Set up<a class="anchor-link" href="#Set-up"> </a></h2><ol>
<li>Start by using the <code>nbdev_template</code> github template <a href="https://github.com/fastai/nbdev_template/generate">https://github.com/fastai/nbdev_template/generate</a> to create a new repo on github.</li>
<li>Duplicate this <a target="_blank" href="https://deepnote.com/project/nbdev-empty-template-uZ8cxzfwRbmSkqW4HTJonw/">Deepnote nbdev template project</a>. It's set up with an environment that has <code>nbdev</code> preinstalled.</li>
<li>In this Deepnote project, link the GitHub repo you created in step 1 using the GitHub sidebar on the left.</li>
<li>Fill in the <code>settings.ini</code> file with your information. More info in the <a href="https://nbdev.fast.ai/tutorial.html#Edit-settings.ini">nbdev tutorial</a></li>
<li>Open <code>00_core.ipynb</code> in Deepnote and you can start coding. The notebook you're reading is actually a <code>00_core.ipynb</code> file in an nbdev project that was set up this way ðŸ™‚</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we can get to work! Let's explore what a notebook in the <code>nbdev</code> world looks like!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>nbdev</code> has special comments that convey information about how to build the package.</p>
<p><code># default_exp core</code> means that the code in this notebook will be exported by default to a file <code>core.py</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And now we can start implementing our python package.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="pyleftpad">pyleftpad<a class="anchor-link" href="#pyleftpad"> </a></h2><blockquote><p>Implements a function that pads strings with whitespace from the left.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Implement-the-library-code">Implement the library code<a class="anchor-link" href="#Implement-the-library-code"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can see another one of the special nbdev comments, <code>#export</code> means that this cell will actually be exported to the <code>core.py</code> file and will become part of the package code.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can show <a href="/pyleftpad/core.html#left_pad"><code>left_pad</code></a>'s html docs inside a notebook with <code>show_doc</code>.</p>
<p>Using <code># hide</code> we can exclude a cell from the auto-generated documentation.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="left_pad" class="doc_header"><code>left_pad</code><a href="https://github.com/the21st/pyleftpad/tree/master/pyleftpad/core.py#L6" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>left_pad</code>(<strong><code>padded_string</code></strong>, <strong><code>padding</code></strong>)</p>
</blockquote>
<p>Pads string with spaces from the left so that its total width equals padding</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can use this function like this.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">left_pad</span><span class="p">(</span><span class="s2">&quot;nbdev&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;     nbdev&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since the cell above doesn't have the <code># export</code> comment, this code won't be part of the package we're building. It only server as an example usage of that function inside this notebook, including the output. What a great way to document your code!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's include some unit tests:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">left_pad</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;hello&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">left_pad</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;hello&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">left_pad</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot; hello&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And now we can run <code>nbdev_build_lib</code> to build the project files:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev.export2html</span> <span class="kn">import</span> <span class="n">nbdev_build_lib</span><span class="p">;</span> <span class="n">nbdev_build_lib</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Converted 00_core.ipynb.
Converted index.ipynb.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And build the project's docs with <code>nbdev_build_docs</code>:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev.export2html</span> <span class="kn">import</span> <span class="n">nbdev_build_docs</span><span class="p">;</span> <span class="n">nbdev_build_docs</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>converting: /work/pyleftpad/index.ipynb
converting: /work/pyleftpad/00_core.ipynb
converting /work/pyleftpad/index.ipynb to README.md
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>
<h2 id="Next-steps">Next steps<a class="anchor-link" href="#Next-steps"> </a></h2><p>At this point, this would be the end of the nbdev notebook, but for the sake of presentation within 1 notebook, let's see what we'd do next to publish this package.</p>
<p>First we want to run <code>nbdev_install_git_hooks</code>. This would be sufficient to run once, after first setting up your project.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Then we need to configure git username and email, because Deepnote might not have that info.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And then just stage all files and commit</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Finally, push to origin</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This repo is set up with GitHub actions in a way that it runs all notebooks after pushing new commits. If e.g. a unit test in a notebook doesn't pass, the GitHub actions continuous integration will report a failure. Neat ðŸ˜Ž</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can check out the resulting repo here: <a href="https://github.com/the21st/pyleftpad">https://github.com/the21st/pyleftpad</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Installing-the-package">Installing the package<a class="anchor-link" href="#Installing-the-package"> </a></h3><p>After it's pushed, it's ready to be used. You can either set up a pypi account and run <code>make pypi</code> from the terminal or you can install the package directly from github with <code>pip install git+git://github.com/the21st/pyleftpad</code>.</p>
<p>See <a href="https://deepnote.com/@the21st/Installing-a-nbdev-package-directly-from-github-xWvR2CT7Sy-Rx9JJDlQoIw">an example project</a> that installs the package directly from github.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Browsing-the-docs">Browsing the docs<a class="anchor-link" href="#Browsing-the-docs"> </a></h3><p>And after enabling the Github Pages from the repo settings, our package docs are live at <a href="https://the21st.github.io/pyleftpad/">https://the21st.github.io/pyleftpad/</a>, see them inlined here:</p>

</div>
</div>
</div>
</div>
 

